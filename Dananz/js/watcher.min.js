import{g as u,u as g}from"./common.min.js";function w(){function d(t){let l=t||document.querySelectorAll("[data-fls-digcounter]");l.length&&l.forEach(a=>{a.hasAttribute("data-fls-digcounter-go")||(a.setAttribute("data-fls-digcounter-go",""),a.dataset.flsDigcounter=a.innerHTML,a.innerHTML="0",e(a))})}function e(t){let l=null;const a=parseFloat(t.dataset.flsDigcounterSpeed)?parseFloat(t.dataset.flsDigcounterSpeed):1e3,i=parseFloat(t.dataset.flsDigcounter),h=t.dataset.flsDigcounterFormat?t.dataset.flsDigcounterFormat:" ",o=0,s=n=>{l||(l=n);const c=Math.min((n-l)/a,1),f=Math.floor(c*(o+i));t.innerHTML=typeof t.dataset.flsDigcounterFormat<"u"?u(f,h):f,c<1?window.requestAnimationFrame(s):t.removeAttribute("data-fls-digcounter-go")};window.requestAnimationFrame(s)}function r(t){const l=t.detail.entry,a=l.target;a.querySelectorAll("[data-fls-digcounter]").length&&!a.querySelectorAll("[data-fls-watcher]").length&&l.isIntersecting&&d(a.querySelectorAll("[data-fls-digcounter]"))}document.addEventListener("watcherCallback",r)}document.querySelector("[data-fls-digcounter]")&&window.addEventListener("load",w);class W{constructor(e){let r={logging:!0};this.config=Object.assign(r,e),this.observer,document.documentElement.hasAttribute("data-fls-watch")||this.scrollWatcherRun()}scrollWatcherUpdate(){this.scrollWatcherRun()}scrollWatcherRun(){document.documentElement.setAttribute("data-fls-watch",""),this.scrollWatcherConstructor(document.querySelectorAll("[data-fls-watcher]"))}scrollWatcherConstructor(e){e.length&&g(Array.from(e).map(function(t){if(t.dataset.flsWatcher==="navigator"&&!t.dataset.flsWatcherThreshold){let l;t.clientHeight>2?(l=window.innerHeight/2/(t.clientHeight-1),l>1&&(l=1)):l=1,t.setAttribute("data-fls-watcher-threshold",l.toFixed(2))}return`${t.dataset.flsWatcherRoot?t.dataset.flsWatcherRoot:null}|${t.dataset.flsWatcherMargin?t.dataset.flsWatcherMargin:"0px"}|${t.dataset.flsWatcherThreshold?t.dataset.flsWatcherThreshold:0}`})).forEach(t=>{let l=t.split("|"),a={root:l[0],margin:l[1],threshold:l[2]},i=Array.from(e).filter(function(o){let s=o.dataset.flsWatcherRoot?o.dataset.flsWatcherRoot:null,n=o.dataset.flsWatcherMargin?o.dataset.flsWatcherMargin:"0px",c=o.dataset.flsWatcherThreshold?o.dataset.flsWatcherThreshold:0;if(String(s)===a.root&&String(n)===a.margin&&String(c)===a.threshold)return o}),h=this.getScrollWatcherConfig(a);this.scrollWatcherInit(i,h)})}getScrollWatcherConfig(e){let r={};if(document.querySelector(e.root)?r.root=document.querySelector(e.root):e.root,r.rootMargin=e.margin,!(e.margin.indexOf("px")<0&&e.margin.indexOf("%")<0)){if(e.threshold==="prx"){e.threshold=[];for(let t=0;t<=1;t+=.005)e.threshold.push(t)}else e.threshold=e.threshold.split(",");return r.threshold=e.threshold,r}}scrollWatcherCreate(e){this.observer=new IntersectionObserver((r,t)=>{r.forEach(l=>{this.scrollWatcherCallback(l,t)})},e)}scrollWatcherInit(e,r){this.scrollWatcherCreate(r),e.forEach(t=>this.observer.observe(t))}scrollWatcherIntersecting(e,r){e.isIntersecting?r.classList.contains("--watcher-view")||r.classList.add("--watcher-view"):r.classList.contains("--watcher-view")&&r.classList.remove("--watcher-view")}scrollWatcherOff(e,r){r.unobserve(e)}scrollWatcherCallback(e,r){const t=e.target;this.scrollWatcherIntersecting(e,t),t.hasAttribute("data-fls-watcher-once")&&e.isIntersecting&&this.scrollWatcherOff(t,r),document.dispatchEvent(new CustomEvent("watcherCallback",{detail:{entry:e}}))}}document.querySelector("[data-fls-watcher]")&&window.addEventListener("load",()=>new W({}));
